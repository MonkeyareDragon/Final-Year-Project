{% extends 'dashboard/base.html' %}

{% block content %}

    {% if user.is_authenticated %}

    <h1>All Users</h1>

    <table class="table table-striped table-hover table-bordered">
        <thead class="table-dark">
          <tr>
            <th scope="col">User ID</th>
            <th scope="col">Username</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
          </tr>
        </thead>
        <tbody>
          
      {% if users %}
          {% for user in users %}
              <tr>
                  <td>{{ user.id }}</td>
                  <td>{{ user.username }}</td>
                  <td>{{ user.first_name }}</td>
                  <td>{{ user.last_name }}</td>
                  <td>{{ user.email }}</td>
              </tr>
          {% endfor %}
      {% else %}
        <tr>
            <td colspan="5" class="text-center">No Users Found</td>
        </tr>
      {% endif %}
      
          
        </tbody>
    </table>
    

    {% else %}
    <br/>
    <h1>Login</h1>

    <form method="POST" accept="{% url 'api_v1:dashboard:home'%}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input type="text" class="form-control" id="email" name="email" placeholder="Email Address" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
        </div>
        <button type="submit" class="btn btn-primary">Login</button>
    </form>

    {% endif %}
   

{% endblock %}